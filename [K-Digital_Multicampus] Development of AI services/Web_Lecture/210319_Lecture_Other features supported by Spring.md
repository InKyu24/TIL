# 스프링에서 지원하는 여러 가지 기능

## 다중 파일 업로드하기

스프링의 CommonsMultipartResolver 클래스를 이용하면 여러 개의 파일을 한꺼번에 업로드할 수 있다.

1. 파일 업로드에 필요한 라이브러리를 설치하도록 pom.xml을 작성한다.
2. servlet-context.xml 파일에서 CommonMultipartResolver 클래스를 multipartResolver 빈으로 설정한다.
3. 파일 업로드 및 다운로드 기능 컨트롤러를 구현하기 위한 자바 파일들을 준비한다.
4. 파일 다운로드 컨트롤러인 FileDownloadController 클래스를 작성하고, 버퍼 기능을 이용해 빠르게 브라우저로 이미지 파일을 전송한다.
5. 파일 업로드 컨트롤러를 구현한다. 파일과 매개변수를 같이 전송하므로 Map을 사용한다. 매개변수의 name/value를 다시 map의 key/value로 저장한다. 파일 이름을 ArrayList에 저장한 후 다시 map에 key/value로 저장한다.
6. 파일 업로드창과 업로드한 파일을 표시해주는 결과창을 나타낼 JSP 파일을 작성한다.



## 썸네일 이미지 사용하기

원본 이미지가 너무 큰 경우, 원본 이미지를 통해 썸네일 이미지를 가져와서 처리하게끔 하는 기능이 있다.



## 스프링 이메일 사용하기

스프링에서는 이메일 기능도 설정만으로 쉽게 구현할 수 있다.



## 스프링 인터셉터 사용하기

인터셉터를 사용하면 브라우저 요청이 있을 때 요청 메서드 호출 전후에 개발자가 원하는 기능을 수행할 수 있다.

인터셉터는 필터와 비슷한 기능을 하지만 필터는 웹 애플리케이션의 특정 위치에서만 동작하는 반면, 인터셉터는 좀 더 자유롭게 위치를 변경해서 기능을 수행할 수 있다.

인터셉터는 애플리케이션 안에서 적용 범위를 설정할 수 있으며, 주로 쿠키 제어, 파일 업로드 작업 등에 사용된다.

스프링 HandlerInterceptor 클래스 내 주로 사용되는 메서드들은 아래와 같다.

+ preHandler()
  + 컨트롤러 실행 전 호출
+ postHandler()
  + 컨트롤러 실행 후 DispatcherServlet이 뷰로 보내기 전에 호출
+ afterCompletion()
  + 뷰까지 수행하고 나서 호출